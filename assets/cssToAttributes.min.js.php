<?php

/*
 * CSS to Attributes addon for Bear Framework
 * https://github.com/ivopetkov/css-to-attributes-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var cssToAttributes=void 0!==cssToAttributes?cssToAttributes:function(){var t=document.head,e="--css-to-attribute-".length,n=new RegExp("--css-to-attribute-.*?:","g"),r=[],i=[],o=[],s=[],a=[],u=function(t){for(var e=0;e<t.length;e++){var o=t[e];if(4===o.type)u(o.cssRules);else if(1===o.type){var s=o.cssText;if(-1!==s.indexOf("--css-to-attribute-")){var a=o.selectorText,f=r.indexOf(a);-1===f&&(r.push(a),i.push([]),f=r.indexOf(a));for(var c=i[f],d=s.match(n),v=0;v<d.length;v++){var l=d[v].replace(":","").trim();-1===c.indexOf(l)&&c.push(l)}}}}},f=function(t){for(var e=document.styleSheets,n=0;n<e.length;n++){var r=e[n],i=r.ownerNode.outerHTML;t&&void 0!==a[n]&&a[n]===i||(u(r.cssRules),a[n]=i)}},c=function(){for(var t=0;t<r.length;t++)for(var e=r[t],n=i[t],a=document.querySelectorAll(e),u=0;u<a.length;u++){var f=a[u],c=o.indexOf(f);-1===c&&(o.push(f),s.push([]),c=o.indexOf(f));for(var d=s[c],v=0;v<n.length;v++){var l=n[v];-1===d.indexOf(l)&&d.push(l)}}},d=function(t){for(var e=["!",";","{","}",'"',"'"],n=0;n<e.length;n++){var r=e[n];t=t.split("\\"+r).join(r)}return t},v=function(){for(var t=0;t<o.length;t++){var n=o[t];if(document.contains(n))for(var r=s[t],i=getComputedStyle(n),a=0;a<r.length;a++){var u=r[a],f=d(i.getPropertyValue(u).trim()),c=u.substring(e);""===f?null!==n.getAttribute(c)&&n.removeAttribute(c):n.getAttribute(c)!==f&&n.setAttribute(c,f)}}},l=!1,h=function(){l||(l=!0,window.addEventListener("resize",(function(){c(),v()})),window.addEventListener("load",(function(){f(!0),c(),v()})),window.addEventListener("orientationchange",(function(){c(),v()})),"undefined"!=typeof MutationObserver&&new MutationObserver((function(e){for(var n=!1,r=!1,i=0;i<e.length;i++){var a=e[i],u=a.target;if(t.contains(u)){n=!0,r=!0;break}if(!r)if("attributes"===a.type){var d=o.indexOf(u);-1!==d?-1===s[d].indexOf("--css-to-attribute-"+a.attributeName)&&(r=!0):r=!0}else r=!0}n&&f(!0),r&&(c(),v())})).observe(document,{childList:!0,subtree:!0,attributes:!0}))};return document.addEventListener("readystatechange",()=>{h(),f(!0),c(),v()}),"complete"===document.readyState&&h(),f(!0),c(),v(),{run:function(t){f(void 0===t||!t),c(),v()}}}();
EOT;
